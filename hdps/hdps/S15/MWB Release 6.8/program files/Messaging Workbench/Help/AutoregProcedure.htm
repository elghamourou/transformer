<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./AutoregProcedure_files/filelist.xml">
<title>Setup and Procedure for Auto Registration from the MWB</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Albany CIO Field Office</o:Author>
  <o:LastAuthor>Albany CIO Field Office</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>2473</o:TotalTime>
  <o:Created>2002-04-25T18:31:00Z</o:Created>
  <o:LastSaved>2002-04-25T18:31:00Z</o:LastSaved>
  <o:Pages>4</o:Pages>
  <o:Words>1536</o:Words>
  <o:Characters>8758</o:Characters>
  <o:Company>Department of Veterans Affairs</o:Company>
  <o:Lines>72</o:Lines>
  <o:Paragraphs>17</o:Paragraphs>
  <o:CharactersWithSpaces>10755</o:CharactersWithSpaces>
  <o:Version>9.3821</o:Version>
 </o:DocumentProperties>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-font-kerning:0pt;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	font-size:14.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoTitle>Setup and Procedure for Auto Registration from the MWB</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>This version of the MWB introduces a means of automatically
registering profiles with HL7 or with a local registry directly from the Report
tab of the MWB. Before explaining this feature, note that the manual
registration process is still available from the <b>Help </b>menu. The
procedure for auto registration is fairly straight forward, so that will be
explained first before delving into the setup details. </p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h1>Procedure for Auto Registration</h1>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>On the Report tab of the MWB, select the <b>SpecXML report</b>
and run it for the profile that you are working with. The XML rendition of the
report will be displayed in the edit window. Just as in the last release, you
may click on the tool bar button showing the scroll to toggle the browser and
the html view of the report. The image on the button changes to the MS Internet
Explorer icon when you do so. Click on it again to restore the XML text view
and the scroll icon. </p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>Note that next to the text/browser toggle button on the tool
bar is another button with an HL7 symbol on it. Click on this button to
transform the <b>SpecXML report</b> into the <b>HL7 Registry normative xml
profile</b>. It is important to understand, that the <b>HL7 normative
registration profile</b> is a translated version of the <b>SpecXML report</b>. </p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>Note that when click on the <b>HL7 button</b>, it turns blue
to indicate that you are viewing the HL7 normative profile. Assuming that you
have things setup properly (which we’ll discuss below), you’ll also be
presented with a dialog box that asks if you want to register the profile with
HL7, with your local registry or both.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>If you answer the prompt affirmatively, you’ll be presented
with a window that displays the status of the upload and registration process.
The window contains a browser, into which the registry will respond with a
message indicating success or failure of the registration. Actually there will
be a window for each registration process, HL7 and Local if you have a local
registry set up. The HL7 registration response currently is simply a 1 and
number indicating the number of registered profiles if the registration is
successful. If the registration fails, HL7 responds with a formatted error
message. You will obviously control the response that your local registry
provides.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>Keep in mind, that once you click on the <b>HL7 button</b>
on the tool bar, the edit window will contain the text of the <b>HL7 Normative
registry profile</b>. If you want to keep a copy for your records, or you
prefer to manually upload the file to the registry, you’ll want to save this
file to disk. An easy way to determine that you are looking at the <b>HL7
Normative registry profile</b> is by the color of the <b>HL7 button</b>. If
it’s blue, it’s the registry profile.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>You may click on the <b>scroll/browser toggle button</b> to
view the profile rendered with the IE default style sheet. This gives a nice
hierarchical view of the normative profile. Remember though that this view of
the profile is rendered in html. It may be suitable for posting to a web site,
but it is not the xml profile that the HL7 registry requires. For automatic
registration it doesn’t matter whether you are viewing the xml text or the html
rendering when the registration takes place. If you want to save the xml, or
perform the manual registration however, be sure that it the plain text xml
that you save.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h1>Auto registration Setup</h1>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>There are 2 parts to the registration setup. One is to
simply let the system know where the registry(s) are by providing a URL to
them. Secondly you must provide default information for the registry to process
your submission. These steps need only be performed once unless registry
parameters change.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>The first step is to select <b>Maint/Options</b> and click
on the <b>Directories tab</b>. The setup for the HL7 auto registration is set
by default on this page, but we’ll review it to familiarize you with the
important parameters should changes be required. Note that if you elected to
install this release of the MWB over an older version, this setup won’t be done
for you, since the install program does not disturb your existing MWB
properties file.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>For the HL7 auto registration to work, you need to make sure
that field <b>URL for HL7 Profile Reg (auto)</b> is set. As of this writing,
this value should be <b><a
href="http://www.hl7.org/memonly/conformance/xmlsubmitx.cfm">http://www.hl7.org/memonly/conformance/xmlsubmitx.cfm</a></b>.</p>

<p class=MsoNormal>It is this value that the report module looks for before
offering you the option of auto registration. If the value is null, the option
will not be available when you run the report.</p>

<p class=MsoNormal>If you have a local registry, then you want to put the URL
for it in the field <b>URL for Local Profile Reg (auto).<o:p></o:p></b></p>

<p class=MsoNormal><b><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal>It is not required to value the <b>URL for HL7 Profile Reg
(manual) </b>or its local counter part, but in the case of the HL7 registration
setup, it can be beneficial as will be explained below. The URL for the HL7
manual profile registration as of this writing is:</p>

<p class=MsoNormal><span style="mso-spacerun: yes"> </span><b><a
href="http://www.hl7.org/memonly/conformance/xmlsubmit.cfm">http://www.hl7.org/memonly/conformance/xmlsubmit.cfm</a></b>.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>The next step is to define a template and values to populate
the template with. To understand what this is all about, consider what happens
when you submit a profile manually (you might want to try it using the link
above if you aren’t familiar with the process). After navigating to the site,
you are presented with an input form that contains various fields for
identifying you, and your profile. In the manual process, you would fill out
the appropriate fields, attach a file, then press the submit button. You would
repeat this process of filling out the form and attaching a file for each
profile that you want to register. </p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>The automated registration process works by much the same
mechanism, however you only need to supply the values for these fields once on
the <b>MWB Auto Reg tab</b> (<b>Maint/Options, Auto Reg tab</b>) and from then
on, the MWB will provide this information to the registry and link the file
automatically from the report page for each profile that you want to register.
A registration template for HL7 is provided with this release of the MWB. It
reflects all of the input fields required by the registry at this time. It is
stored in the MWB <b>\Lib\RegistryTemplates</b> folder and is named <b>MWBHL7ContentTemplate.txt</b>.
If you did a new install, this value should already be defaulted for you in the
<b>HL7 Registry</b> <b>field</b> under the heading <b>Select Registration
Templates</b>. If the value is not already there, click on the <b>ellipsis
button</b> to navigate to the folder named above and select it. Note that if
you have a local registry, you’ll want to enter the name of your local template
in the <b>Local Registry </b>field. </p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>The template is formatted to process http multipart form
information. Internally it names the fields required/allowed by the registry
and leaves a token that will be replaced by the MWB for the field’s value. The
multi-part form-processing format is standard, but the content (fields) will
depend on the particular registry. In the next step, we will define name/value
pairs that will be used to turn the template into a submittable form.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>Under the Heading <b>Setup Default Field Values for
Registration Template</b> there is a window, which will be used to display a
list of name/value pairs. Below that are 2 small edit boxes, one for <b>name</b>
and one for <b>value</b>. Below the edit boxes under the heading <b>Defaults
for:</b> are a pair of buttons labeled <b>HL7 Registry</b> and <b>Local
Registry</b> respectively. Be sure that the <b>HL7 Registry</b> button is
selected. There is a button on top of the list box (<b>Add Field</b>) that you
will click to add each name/value pair that you enter onto the list. Highlight
a member of the list and press the <b>Delete Field</b> button to remove a pair
from the list. For a local registry, you would most likely proceed this way
entering each name/value pair manually. For the HL7 registry however we have a
couple of possible short cuts initiated by the 2 buttons to the left of the
list box: <b>Default Init</b> and <b>Re-Init via Web</b>. </p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>If you defined a URL for the HL7 manual registration process
as discussed above, you may click on the <b>Re-init via Web</b> to supply the
required list of name value pairs. This works by invoking the URL, making the
connection and processing the manual entry form supplied by HL7, harvesting the
name/value pairs that HL7 defaults for you. This all happens in the background,
so if it’s successful, you’ll just see the list become populated. At that
point, you are done with the HL7 Auto Registration setup.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>If you did not define a URL for the manual submission of
registration profiles then you may want to click on the <b>Default Init</b>
button. This will fill the list with name value pairs, where the name portion
is defined by HL7 and the value portion enclosed in parenthesis must be
replaced with your information. So for example one entry in the list will look
like <b>First_Name=(your first name)</b>, and you will edit it to look like <b>First_Name=Peter</b>.</p>

<p class=MsoNormal>By the way, you may find a need to take this alternative
even if you did define the manual registration URL anyway. In one instance on
an NT4 system using IE4.01, the browser was unable to capture the necessary
field information using the <b>Re-init via Web</b> method. In any event, all 3
methods work, it’s just a matter of convenience.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>To set up Field values for a local registry, the first step
is to select <b>Details for</b>: <b>Local Registry. </b>Doing so refreshes the
list to be either blank (in the case that you are initially setting up the
local registry), or supplies the existing list of name value pairs specific for
the local registry (in the case that you are editing existing information). You
may want to use the <b>Re-init via Web</b> button if you local registry has a
manual input form that parallels the auto registration field requirements. You
may also use the <b>Default Init</b> button if several of your registry’s
fields are the same as HL7. Always be cognizant of which registration profile
you are working with i.e. HL7 or Local.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>The setup is complete at this point, and need not be
revisited until or unless registry requirements change or your personal
identification information changes at the registry. Keep in mind however that
registration and registration setup for HL7 hinges on your being a member and
having an HL7 membership cookie established on the machine from which you are
running the MWB. If you find that you have trouble with the automated registry,
try the manual registration process. If you find that it is asking for your id
and password, then you cannot use auto-registration until you are signed onto
HL7 as a member.</p>

</div>

</body>

</html>
