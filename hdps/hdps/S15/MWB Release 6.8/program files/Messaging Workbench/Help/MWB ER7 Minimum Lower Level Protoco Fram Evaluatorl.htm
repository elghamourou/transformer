<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List
href="MWB%20ER7%20Minimum%20Lower%20Level%20Protoco%20Fram%20Evaluatorl_files/filelist.xml">
<link rel=Edit-Time-Data
href="MWB%20ER7%20Minimum%20Lower%20Level%20Protoco%20Fram%20Evaluatorl_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>MWB ER7 Minimum Lower Level Protocol (MLLP) Frame Evaluator</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Peter Rontey</o:Author>
  <o:LastAuthor>Peter Rontey</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>897</o:TotalTime>
  <o:Created>2008-09-07T11:40:00Z</o:Created>
  <o:LastSaved>2008-09-07T11:40:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>619</o:Words>
  <o:Characters>3531</o:Characters>
  <o:Lines>29</o:Lines>
  <o:Paragraphs>8</o:Paragraphs>
  <o:CharactersWithSpaces>4142</o:CharactersWithSpaces>
  <o:Version>11.9999</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-family:Arial'>MWB ER7 Minimum Lower Level Protocol
(MLLP) Frame Evaluator<o:p></o:p></span></b></p>

<p class=MsoNormal><span style='font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'>This
utility exposes the ER7 MLLP message instance framing characters that are
normally consumed in the Messaging Workbench (MWB) Message Validation Service.
Deviations from the HL7 recommended MLLP framing are encountered fairly often
in practice and they cause a significant an impediment to interoperability, especially
in the early stages of interface development. The non-displayable nature of the
characters involved can make such inconsistencies an aggravating challenge for remediation.<span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'>This
utility is designed to quickly reveal such inconsistencies. It highlights all
of the non-printable ASCII characters found in each message instance. For ease
of visualization they are translated to their decimal equivalents and enclosed
in angle brackets with blue highlighting (e.g. …<span style='color:#3366FF'>&lt;11&gt;</span>MSH|…).
Deviations from the HL7 recommended MLLP framing characters are distinguished
with bold red highlight (e.g. …<b style='mso-bidi-font-weight:normal'><span
style='color:red'>&lt;12&gt;</span></b>MSH|…). Non-printable control characters
embedded in a message instance are also <o:p></o:p></span></p>

<p class=MsoNormal><span class=GramE><span style='font-size:11.0pt;font-family:
Arial'>highlighted</span></span><span style='font-size:11.0pt;font-family:Arial'>
in bold red in the same manner (refer to figure 1 below).<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:11.0pt;font-family:Arial'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:431.25pt;
 height:305.25pt'>
 <v:imagedata src="MWB%20ER7%20Minimum%20Lower%20Level%20Protoco%20Fram%20Evaluatorl_files/image001.png"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=575 height=407
src="MWB%20ER7%20Minimum%20Lower%20Level%20Protoco%20Fram%20Evaluatorl_files/image002.jpg"
v:shapes="_x0000_i1025"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-size:8.0pt;font-family:Arial'>Fig. 1</span></b><span
style='font-size:8.0pt;font-family:Arial'> Illegitimate embedded control character
in message instance selected from list of deviations<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'>The utility
can receive messages over a TCP/IP connection, serving as a listener (server)
waiting for messages to arrive over a user defined socket. As messages are
received they are displayed in the <b style='mso-bidi-font-weight:normal'>‘Messages
Received’</b> window, with non-printable ASCII characters highlighted as
described above. There is no theoretical limit to the number of messages that
can be received, but it should be understood that this utility is designed as
an interactive diagnostic tool, not a bulk message processing application.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'>Each
message instance in which an MLLP framing deviation or illegitimately embedded
control character is discovered also has at least one entry added to the <b
style='mso-bidi-font-weight:normal'>‘Location of Bogus Chars’</b> list. An
entry is added to the list for each character in violation, which may mean that
there are multiple entries for a given line in the message. Each entry reports
the line (normally representing a segment) where the deviation was found, it’s
offset from the beginning of the line, and the offending character enclosed in angle
brackets. Clicking on the entry in the text box will highlight the
corresponding character in the message instance text so that it can be quickly
viewed in context.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'>As with MWB
Message Validation and Message generation session, the user may elect to save
process related artifacts to a session folder. A new session folder is created
each time that <b style='mso-bidi-font-weight:normal'>Save Session</b> is
invoked. The user may elect to save the raw message data as it is received form
the sender. The raw messages are saved to files with a <b style='mso-bidi-font-weight:
normal'>‘.bin’</b> extension. The user may also elect to save the ‘marked up’
messages (i.e. the ones displayed in the ‘Messages Received’ window). These are
saved in a file with <span class=GramE>a</span> <b style='mso-bidi-font-weight:
normal'>‘.<span class=SpellE>mfe</span>’</b> extension. If the user elects to
save the Raw Messages, the process also automatically creates an MWB replay
file <b style='mso-bidi-font-weight:normal'>(‘.er7’</b> file extension) that in
effect represents a ‘cleaned up’ and ‘normalized’ file of message instances
that may be used for later replay through the <span class=SpellE>MWB’s</span>
message Validation or Message Generation tools. Note that if the received files
are too grossly deviant fro the HL7 MLLP framing recommendation, they may not
make reliable replay candidates. Also note that the normalization process
affects only the framing and segment termination characters; it does not remove
or alter embedded control characters.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;font-family:Arial'>Again, as
with MWB Validation and Message generation features, a TCP/IP connection is not
necessary to process message instances. There is an option to read raw messages
instances from a file (<b style='mso-bidi-font-weight:normal'>Read Raw <span
class=SpellE>Msg</span> <span class=GramE>From</span> File </b>button). In this
case, each message read from the file will be evaluated as if it had been
received over a TCP/IP socket, revealing any MLLP deviations or non-printable
ASCII character inclusions in the message instance. This option permits
evaluation where a TCP/IP connection is not possible, but the sender can supply
a file containing one or more raw message instances.<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
