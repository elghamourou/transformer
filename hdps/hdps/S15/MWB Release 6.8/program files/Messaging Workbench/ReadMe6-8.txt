				Messaging Workbench Release 6.8 Release Notes
						Sep 2008


Sep 4, 2008 Post 6.7p1 Release

1. Consistency check gave Standard "Invalid Table ID" error for elements in an NS branch.
2. Data type annotations word wrap now consistent with global properties setting.
3. There was a bug in Data type maintenance that sporadically caused the parent component data type to take on the attributes of one of its child sub components. The change was only visible if the parent component was subsequently selected. The problem was caused by tree selection mechanics that didn't handle clicks on the tree expansion/contraction button properly.
4. Archive pkg creation features were not enabled on file menu if profile was initiated by double click.
5. Fixed a bug in reverse engineering that affected auto assignment of data types to fields with VARIES DT in the standard. Formerly if any repetitions of affected segments were present, all of hteir respective VARIES fields would be assigned the data type of the first segment encountered in the parse tree.
6. In Derive Specification, if 'Make Implementable' option is selected then force auto usage update regardless of properties setting.
7. Fixed bug in reverse engineering that changed upper level elements usage to required if 'Ex val = Req' option was turned on, child had usage of R, but parse tree had no value. Change is now made under these conditions only if parse tree value is non-nil.
8. Fix bug that caused Local Element def notes entered on desktop memo's from being saved if larger note editor was also active.
9. Word wrap in annotations is no longer imposes hard cr/lf at wrap point. This permits using line wrap without affecting formatting. Similar to the way NotePad works.
10. In Field Add form, max and min cardinality boxes were reversed leading to problems with cardinality assignment.
11. Adjust auto computation of length in both Message Tree and Data Type Tree to account better for NS elements and for delimiters
12. In case where message instance had only a field level value, but the profile called for other required components, the missing required components in the message instance were not reported as an error.
13. Add text highlighting to Message Capture text. When node selected in tree the text value of the node will be highlighted in the message instance text.
14. ACK returned by Validation Server will report the Version of the message being ACKed in the MSH even though the ACK will always actually be formatted as a v2.5 ACK.
15. Consistency Check now woeks for pseudo profiles that don't start with MSH.
16. In reverse engineering in cases where field structure in the library was complex but message instance was primitive there was a possibility of spurious assignment of values to the subcomponents of the reverse engineered spec.
17. In message generation the resent option would leave off the last segment of the last message.
18. Validation server now saves ACK message returned as part of session
19. Make table code validation case insensitive, but issue warning instead of error if case mismatch
20. In validation, MSH.9.3 the Message Structure ID will be populated only if it is populated in the message being validated.
21. Reverse Engineering was failing to pass value of field separator into MSH.1,BHS.1,FHS.1.
22. Moving segment repetition down in tree caused rep indicator to be removed.
23. Moving primary segment repetition down no longer causes exception fault.
24. Fix a problem with Validation ACKS, where senders delimiters were not accurately represented in the ACK.
25. Empty terminal components are removed form ACK messages generated by validation.
26. Fixed problem introduced when fixing length autocalc. Problem was manifested by inability to assign an element a usage of B or W. They automatically reverted to usage of NS with a length of 0.
27. Add capability for HL7 Minimal ACK as an option to Validation.
28. MSH.11 - ProcessingID returned in Validation ACKs will be consistent with client message instance.
29. Validation can now optionally be set to honor MSH.15 and .16 for ACK responses.
30. Fix problem with reverse engineering where selecting the consolidate repeat segs option could allow the process to reference a non-existent tree node. 
31. Fix another issue with unwanted line wrap characters inserted in text; this time in interaction between main form editors and floating window editor for annotations.
32. Add a hidden switch that handles UTF-8 encoding and allows both the XML to retain them while rendering them properly in translation to XSL. Without the hidden option, all non ASCII chars are replaced to prevent MSXML parser from throwing an error. MSXML has a quirk that requires work around to handle encodings other that UTF-16 or ASCII. Switch must be activated in MWB.ini 'Hidden' section.
33. If file name of profile contained a '.', the display file name was truncated at that '.' making it look as if the wrong file was opened.
34. Fix Registry Transform XSL for changes made to SpecXML in last release. Profile conformance type moniker was adversely affected.
35. In message generation, values that are derived from the message profile will be escaped prior to inclusion in the message instance.
36. HL7 value escape algorithm changed to ignore values that appear to be already escaped.
37. Remove special chr from LOINC code entry in table 396 for table libs 2.5-2.6.
38. Fixed a bug in Table File Maint that caused exception and prevented saving changes.
39. Changes to Create Data Type profile make it more reliable. In particular element length and regex attributes attended to.
40. Updated 2.5.1 and 2.6 data type and segment libraries for regex
41. Add capability to force regex changes in Data type maint. Formerly if a component element had a regex that differed from the field (or primitive data type) it would be ignored in regex update. A new parameter added to the Regex update file overrides this behavior. Regex update files (e.g. Primitive DT Regex.txt) may now contain comments.
42. Add libraries for v2.6 - Data Type, Segment, Table, message
43. Fix bug in display of vertical message that caused access error






03/03/08 Post 6.7 release

1. In Value sets setup, when a CE type element is selected in the value set tree, the Table Values selection list now displays Description=value pairs for CE.2 and.4 just as it does for CE.1 and .3. When a value is selected for a CE.2 element however, the description is harvested as the value as opposed to the code. Also when CE.3 or .6 is selected the name of the coding system is displayed in the Table values selection list. If it is an HL7 Table then it is presented in 'HL7nnnn' format.
2. After selecting a message from message library, structure field becomes focused. If user presses enter, has same effect as clicking compile button
3. No longer show bogus table message for NS elements.
4. Add Condensed Message Tree View option that does not show NS items in message tree. Reporting has been altered too, so that reports may be based upon the condensed message tree.
5. Align MWB Options form to hide label characters partially displayed on main form.
6. Add new Table OID attribute to Table structure, all display and all maintenance functions.
7. If profile SpecName field is changed, Save automatically invokes SaveAS, and now it will suggest a new name based upon the new Spec name and the Msg/Event/OC concatenated.
8. Fix introduce problem of no warning for discrepant usages when Conformance type changed.
9. Don't flag 'No Library for Comparison' error for OBX.5, MFE.4, or RDT in standard comparison aspect of consistency check.
10. Use MWB Version change as a one time trigger to effect changes to the persistent MWB Directory properties. This permits auto updating directory properties for users who update the MWB version, but want to conserve other MWB settings.
11. Added new MessageNote annotation that displays a message instance fragment at any level of the message hierarchy when tree element is selected. It is a read only annotation, but is accessed via the Annotations Notepad just as others are. SpecXML report has been modified to include it and MWBProfile.xsl has been modified to display it. A new set of options has been added to the Options Report tab to turn MessageNote reporting on or off.
12. Fix problem with background generation of reports. They were being generated as quasi rtf as opposed to xml. Problem was caused by a newly introduced need to explicitly set plain text in editors used to generate xml (specxml) based messages. This would have affected other areas where these reports were generated, but not on reports tab.
13. Prevent adding a segment group that has just one segment.
14. Prevent deletion of segments/seggrps from seg group if less than 3 elements in seg group.
15. Add HTML Reference attribute to Data types.
16. Correct a problem in data type import that lead to erroneous classification of a data type as complex. Used now required to supply primitive status of DT in ODBC input stream.
17. Add New Data type '-' indicating a field that has been withdrawn from the standard. It is a primitive data type, and serves only as a place holder for the empty content in the segment. Its optionality and usage can only be NS in the MWB.
18. Add Chapter reference to ODBC seg import, and HTML reference to DT import
19. Fix Validation server startup exception caused by no default port defined for Validation. This error may be an artifact of change in Indy library after system crash.
20. Add option to save seg libs directly from ODBC import page.
21. Add new option to Message Generation that turns off auto inclusion of MWB Profile Registry ID in MSH.21 of generated messages.
22. Up Arrow movement in Active library selection form did not advance item selection upward.
23. Add new feature that allows inspection of segment definitions across segment libraries. it also incorporates a segment search function.
24. Add capability to conserve segment repetitions in segment libraries. There is a new check box on the Seg Library Maintenance for "Conserve Rep Segs" that must be checked in order get them into the library. Seg reps are not recognized as new segs, so can be captured only through the "overwrite existing" or "Replace" Compilation options. Replicate segs are identified with a '_nn' tag concatenated with the mnemonic e.g. OBX_1. It is recommended that Annotations be used to distinguish the purpose of the replicate segs. The annotations (Design or Local Element definition suggested) will be visible in new segment selection software.
25. A new button has been added to the "Segment Add" form. It is positioned next to the segment mnemonic window, and has a question mark icon on it. This button opens another window that initially displays a tab for each active segment library, a listing of the selected libraries segs, and the tree structure for any selected seg and the seg's annotations. This is currently the only form in the MWB where segment repetitions may be selected for addition to the Message Tree. As mentioned above, annotations for the replicates will make selection easier. Other segment libraries may be opened using the file menu. Segments from any of the libraries may be selected by checking them on their respective tab lists. When all of the segments have been checked, they may be selected using the 'Select' button to move them to the 'Selected Segments List'. The selected segments may be ordered using the arrow key. Click the 'Add Segments' button to add the selected segments to the Message Tree.
26. Fix bug that caused error message if trying to add field using a terminal repeating field with reps as an insertion point.
27. Add new option to allow/disallow empty field repeats
28. Fixed a parsing bug in message generation that caused |A~|B| to be parsed as |A~B| 0nly when terminal field repetition was empty.
29. Fix bug in Message Library Maint, and clarify addition library process.
30. Make updates to better support v2.5.1 on installation.
31. Change of default Message Structure Lib in Maint/Opts is now immediately executed.


Post 6.6p2

1. Fixed feature that uses vocabulary elements in conjunction with shape "stick Pin"
2. Activated Print option in diagramming tool.
3. Removed "Shape" menu item from pop-up shape menu in diagramming tool.
4. Changed shape auto adust for text so that it no longer automatically shrinks the object to the text. It still expands the object however.
5. Fixed Diagram Window Option so that it no longer hides behind other diagrams.
6. Added code that compensates for erratic line linkages caused by loading diagram onto system with different screen resolution that original.
7. Click on Diagram tool button after diagram session has begun will set focus to the diagram tool in the center of the screen.
8. Normalize the path to the HL7 HTML documentation to the local system. Formerly it would be set to the path of the system where the library was developed, and required the user to fix it in the seg library maint utility.
9. Add code to SpecXML to indicate when a table isn't to be evaluated for validation. Corresponding changes made to MWB default XSLT.
10. Fixed bug that saved changes to profiles even if user elected not to.
11. Fixed bug discrepancies in consistency check/comparison report when field repetitions evaluated.
12. Fix bug that causes duplicate Value Length(s) errors from being reported in consistency check.
13. Fix a bug in validation that didn't properly handle case where profile had a repeatable segment without ant repetition and message instance had repetitions of that segment.New error notifications potentially related to condition added.
14. Fix Validation bug that could cause sparsley populated field repetition elements to be erroneously flagged as missing required elements.
15. In msg Generation, elements that have a table reference marked as no-lookup, but the element is required will be assigned whatever example value they have in the profile.
16. Had to change error mode management to handle new windows system error that occurs when a test is done to determine if a file/folder exists on a non-mounted drive.
17. Automatic Usage update for Conformance type now marks conditional elements automatically as in use and if complex marks first element as RE.
18. Fixed problem with consistency checker that occured when missing/unknown seg libs were reference in standards comparison.
19. Selecting a segment library from the list as for library maitenance caused user to be prompted to save profile even when no profile was involved.Same issue fixed with several main menu options available before a profile is established.
20. Make changes in Table Lookup and Table Element E/E to handle element descriptions that contain and equals sign. The equals sign is used internally in a Delphi List structure as a delimiter.
21. Add Local Element definition and Long Description note fields to Profile level in spec XML report; add long description annotation to element level in report. Fix MWBProfile.xsl to expose all of these notes.
22. Modified MWBProfile.xsl so that annotations fully span the page width
23. Deleted CNS - Composite ID number and name simplified data type and replaced it with CNN data type of same name. This affects only HL7 v2.5 and v2.51. Both data type and segment libraries were corrected.
24. Rebuild Lib from segs maintenance utility was not always loading the appropriate data type library intot the main form drop down list.
25. Data type E/E was not allowing undelete functionality to work.
26. Profile comparison was crashing under some conditions.
27. Profile comparison was asking for auto update of conformance type and showing disallowed usages after load of comparison spec.
28. Made Update to MPI 24 AdminSegs.mcf
29. Hide report web browser on startup
30. Switch focus to editor or browser from report dropdown after report printed.
31. Fix Comparison report so that it can be saved directly as html; bring code into line with SpecXML report.
32. Spec XML report prefixed each sequence number attribute with a space. Removed the space.
33. Made changes to MWBProfilerevNO.xsl to ensure no spaces in HL7 shorthand notation of element annotation tag.
34. In standard comparison, a repetition is now allowed to have a usage less than R even if principal field is R.
35.In standard comparison,repetion names are no longer flagged in error because of the '_rep' suffix.
36. Added a new option to Validation - Force CA/AA ACK. This causes a positive ACK to be returned regardless of validation results.
37. In batch profile reconcile was unable to remove profiles from the batch list - fixed.
38. Fixed bug that in Msg Generation made it necessary to kill MWB from task manager when messages were sent from file while no TCP connection was active.
39. When generating reports from cammand line invokation,if the destination report file directory doesn't exisit, it will be created.
40. Added "Export HL7 Conformance profile" to menu. Changed name of complementary Import function from "Import XML Spec" to "Import HL7 Conformance Profile" as well.
41. Add ne Maint option to Misc tab that allows user to name profile files and reports to be included in a profile package of files.
42. Add a new option to export a package of profile related files.
43 Add a new option to export a zipped archive package of profile related files.
44. Read/Send messages in Msg Generation now looks for and records acknowledegments.
45. Word wrap automaticall turned off for editors in Message generation - was causing problems with resend.
46. Fix a bug that under rare circumstances caused a spurious parse error to be reported in consistency check.
47. 'Sanctuary' thumb drive exclusion software often corrupts the Network IP stack on initial boot. When this occured it caused the MWB to get into a hung state. Added trap to preclude that occurence and allow MWB to exit gracefully.
48. 'New Session' button in Validation actually ended the session. Fixed.
49. Fixed Table attribute highlighting to turn on and off when the Localized table lib is created or removed.
50. Parse tree and associated Message Capture components are cleard when Validation session ended.
51. Validation - fix spurious reports of Missing Required value and Missing required example value.
52. When validating from file of messages error log was not being initialized or reset between messages.
53. Fixed bug in internal msg check routine that caused intermittant crashes of the Message Structure Maintenence utility.
54. Change of Message Structure Library and Message structure selection now ensures that the appropriate data type library for the principal segment library associated with the message library is loaded. Also closed associated minor memory leak.
55. Validate messages from file would not read and validate messages if first line of text file was blank.
56. Msg Gen always included sg/seg/fld reps documented in profile regardless of usage. Non - 'R' elements are now included according to probability set in generation options.
57. Add Maint Options that govern whether or not autoupgrade of Conformance Type is asked.
58. Fix bug that sometimes resulted in no table elements being reported on a table with at least one element.
59.Fix schema generation error that set all components of RE field to RE usage.
60. Rework profile Consistency Check algorithm to better account for Replicate deviation in Standard Comparison.
61. The '_rep' tag is no longer applied to field replicates, and is automatically removed from older profiles when the profile is loaded into the MWB.
1. Fixed feature that uses vocabulary elements in conjunction with shape "stick Pin"
2. Activated Print option in diagramming tool.
3. Removed "Shape" menu item from pop-up shape menu in diagramming tool.
4. Changed shape auto adjust for text so that it no longer automatically shrinks the object to the text. It still expands the object however.
5. Fixed Diagram Window Option so that it no longer hides behind other diagrams.
6. Added code that compensates for erratic line linkages caused by loading diagram onto system with different screen resolution that original.
7. Click on Diagram tool button after diagram session has begun will set focus to the diagram tool in the center of the screen.
8. Normalize the path to the HL7 HTML documentation to the local system. Formerly it would be set to the path of the system where the library was developed, and required the user to fix it in the seg library maint utility.
9. Add code to SpecXML to indicate when a table isn't to be evaluated for validation. Corresponding changes made to MWB default XSLT.
10. Fixed bug that saved changes to profiles even if user elected not to.
11. Fixed bug discrepancies in consistency check/comparison report when field repetitions evaluated.
12. Fix bug that causes duplicate Value Length(s) errors from being reported in consistency check.
13. Fix a bug in validation that didn't properly handle case where profile had a repeatable segment without any repetition and message instance had repetitions of that segment.New error notifications potentially related to condition added.
14. Fix Validation bug that could cause sparsely populated field repetition elements to be erroneously flagged as missing required elements.
15. In msg Generation, elements that have a table reference marked as no-lookup, but the element is required will be assigned whatever example value they have in the profile.
16. Had to change error mode management to handle new windows system error that occurs when a test is done to determine if a file/folder exists on a non-mounted drive.
17. Automatic Usage update for Conformance type now marks conditional elements automatically as in use and if complex marks first element as RE.
18. Fixed problem with consistency checker that occurred when missing/unknown seg libs were reference in standards comparison.
19. Selecting a segment library from the list as for library maintenance caused user to be prompted to save profile even when no profile was involved.Same issue fixed with several main menu options available before a profile is established.
20. Make changes in Table Lookup and Table Element E/E to handle element descriptions that contain and equals sign. The equals sign is used internally in a Delphi List structure as a delimiter.
21. Add Local Element definition and Long Description note fields to Profile level in spec XML report; add long description annotation to element level in report. Fix MWBProfile.xsl to expose all of these notes.
22. Modified MWBProfile.xsl so that annotations fully span the page width
23. Deleted CNS - Composite ID number and name simplified data type and replaced it with CNN data type of same name. This affects only HL7 v2.5 and v2.51. Both data type and segment libraries were corrected.
24. Rebuild Lib from segs maintenance utility was not always loading the appropriate data type library into the main form drop down list.
25. Data type E/E was not allowing undelete functionality to work.
26. Profile comparison was crashing under some conditions.
27. Profile comparison was asking for auto update of conformance type and showing disallowed usages after load of comparison spec.
28. Made Update to MPI 24 AdminSegs.mcf
29. Hide report web browser on startup
30. Switch focus to editor or browser from report dropdown after report printed.
31. Fix Comparison report so that it can be saved directly as html; bring code into line with SpecXML report.
32. Spec XML report prefixed each sequence number attribute with a space. Removed the space.
33. Made changes to MWBProfilerevNO.xsl to ensure no spaces in HL7 shorthand notation of element annotation tag.
34. In standard comparison, a repetition is now allowed to have a usage less than R even if principal field is R.
35.In standard comparison,repetition names are no longer flagged in error because of the '_rep' suffix.
36. Added a new option to Validation - Force CA/AA ACK. This causes a positive ACK to be returned regardless of validation results.
37. In batch profile reconcile was unable to remove profiles from the batch list - fixed.
38. Fixed bug that in Msg Generation made it necessary to kill MWB from task manager when messages were sent from file while no TCP connection was active.
39. When generating reports from command line invocation,if the destination report file directory doesn't exist, it will be created.
40. Added "Export HL7 Conformance profile" to menu. Changed name of complementary Import function from "Import XML Spec" to "Import HL7 Conformance Profile" as well.
41. Add ne Maint option to Misc tab that allows user to name profile files and reports to be included in a profile package of files.
42. Add a new option to export a package of profile related files.
43 Add a new option to export a zipped archive package of profile related files.
44. Read/Send messages in Msg Generation now looks for and records acknowledgements.
45. Word wrap automatically turned off for editors in Message generation - was causing problems with resend.
46. Fix a bug that under rare circumstances caused a spurious parse error to be reported in consistency check.
47. 'Sanctuary' thumb drive exclusion software often corrupts the Network IP stack on initial boot. When this occurred it caused the MWB to get into a hung state. Added trap to preclude that occurrence and allow MWB to exit gracefully.
48. 'New Session' button in Validation actually ended the session. Fixed.
49. Fixed Table attribute highlighting to turn on and off when the Localized table lib is created or removed.
50. Parse tree and associated Message Capture components are cleared when Validation session ended.
51. Validation - fix spurious reports of Missing Required value and Missing required example value.
52. When validating from file of messages error log was not being initialized or reset between messages.
53. Fixed bug in internal msg check routine that caused intermittent crashes of the Message Structure Maintenance utility.
54. Change of Message Structure Library and Message structure selection now ensures that the appropriate data type library for the principal segment library associated with the message library is loaded. Also closed associated minor memory leak.
55. Validate messages from file would not read and validate messages if first line of text file was blank.
56. Msg Gen always included sg/seg/fld reps documented in profile regardless of usage. Non - 'R' elements are now included according to probability set in generation options.
57. Add Maint Options that govern whether or not auto upgrade of Conformance Type is asked.
58. Fix bug that sometimes resulted in no table elements being reported on a table with at least one element.
59.Fix schema generation error that set all components of RE field to RE usage.
60. Rework profile Consistency Check algorithm to better account for Replicate deviation in Standard Comparison.
61. The '_rep' tag is no longer applied to field replicates, and is automatically removed from older profiles when the profile is loaded into the MWB.
62. Adding field replicates now copies the selected field's child attributes to the replicate.
63. Add 'other Note' to elements and design note to specification section in SpecXML output.
64. Changes to MwbProfile.xsl: 'HL7 Definition' to 'Local Element Definition'; reveal other note types for both element and spec.
65. Create a new XSL to expose a regex column for elements.
66. Fully enable user access to ValueSets in message generation; also add related MWB IDE enhancements
67. Change local Table indicator from selected highlight color to Inverse of hilite color
68. Add Help article for profile Export functions.
69. Add Help article for Value Sets.
70. Add Help article for User Defined Report creation.
71. Add Help article for Advanced Validation and generation Techniques
72. Fully enable user access to MWB Profile registry
73. Automatically fill in event description when message event is entered.
74. Invoke SaveAs if try to save profile after changing 'Specification' (specification name) attribute. Formerly Save would have just saved to the current filename regardless of Specification name change.



Post 6.6p1

1. Fixed HL7 2.3.1 table lib; table 354 value for O01 = ORM_O01. The description has 2 adjacent underscores (e.g. ORM__O01).
2. Add Minimum length attribute for message elements.
3. Add check for minimum value length to validation
4. Add ability to add a batch of table elements to localized table
5. Add capability for multiple clients to connect simultaneously to single validation server. Made other supportive minor changes
to both Msg Gen and Msg Validation.
6. When accessing a profile via double click, the case of the profile file name was changed to lowercase. This has been fixed; character case is now conserved.
7. HL7 lookup path was setup wrong - fixed.
8. In adding a new segment, user has the option of clicking a button to select a different seg lib. In the case that there is more than one active seg lib, there is also a drop down list of seglibs. This list was intended to be informational only, but its juxtaposition witht he button mentioned above invited the user select the alternate library from the list. The expected change to the selected library did not occur though, leaving the impression that the function failed. This has been corrected so that selection of a lib other than the first in the list performs as if the user had selected an alternate library as when clicking the button.
9. Modified element move operations to correctly account for segment snd group repetitions.
10. Modified segment and group sequence assignment to correctly reflect sequencing within the message hierarchy.
11. Prevent unsaved reverse engineered profiles from being placed on the MRU list.
12. Double Click in table form will now assign/change the table id for an element in the message definition tab as well as assign example value.
13. Localized tables that are not to be validated now appear with an adjacent x in the table trees.
14. Add new function to Msg Tree right click pop-up menu that permits addition of 'value' subcomponents to the second component of fields with a QIP data type.  
15. Fix problem where "not present" (np) elements were not being reported on comparison or consistency check reports.
16. Add new checks for extra elements and/or more complex elements in comparison reports as well as consistency check.
17. Fix bug in consistency check that prevented full evaluation of segments
18. Fix bug in auto conformance type assessment that occurs when structure initially compiled. Always yielded contrainable type.
19. Tweak auto optionality reset based on conformance type so that Optional fields are allowed when a segment is added to a profile with conformance type of constrainable.
20. Add capability to review generated messages and received ACK in a separate size adjustable window with file save and print capability. This feature is accessed via a right click on the message or Ack windows.
21. Change position of Ip and Port fields on the message gen form to be consistent with the Validation form.
22. In Add field, the add before option is now consistent with the behavior of the add after aspect.
23. Fixed errors associated with Help navigation forward and backward that occurred under some conditions.
24. Several Fixes/Additions to Diagramming tool. Enhancements to vocabularies and diagram display.
25. Fix to Use Case Display and editing.

9/17/06 Post 6.6

1. No longer asked to save profile if close after immediately opening MWB.
2. Added MWB internal Profile Repository capability. This complements Validation capability.
3. Validation Service may now be run from system tray
4. Validation service will load profile corresponding to principal rep of MSH.21 in MI if defined in MWB profile repository, and validate MI against that.
5. Clone and Add Repetition functions were not handling large values properly. Fixed. 
6. Add a resend generated messages capability. It send the messages shown in the Generated Messages Window regardless of their original source.
7. Add code to prevent memory overrun for long Validation sessions.
8. Don't save validation sessions unless messages received.
9. Add message to validation report.
10. Don't save empty message generation sessions
11. Warn that erasure of generated messages will keep them from appearing in session.
12. Table lookup form now shows table library file name.
13. Change display alg so that Seg Group names are also shown at rhm of msg tree.
14. Add new error message to profile consistency showing seg groups that don't start with a required segment.
15. Correct spelling error in MWB About box
16. Fixed Validation bug that caused spurious "missing Required value" messages under some circumstances.
17. Prevent Repetitions from being used as reference nodes for adding elements to msg tree.
18. Fix bug that caused seg group repetitions to be demoted to segments in message tree under some conditions.
19. Deletion of field from segment now causes deletion of same field sequence from seg repetitions
20. Filter profile sg and seg repetitions out of schema generation.
21. Validation Remediation list now also sets Parse Tree cursor.
22. Stop Message generation button added.
23. Fully implement versioning of HAPI v2 archives based upon HL7 Version profile attribute. User is warned if attribute is missing or not of form "2.n.n".
24. MWB Validation Service may now be run as ICON in system tray.
25. MWB Message generation may now be run as Icon in system tray.
26. Message generation now allows user to create a scripted of sequence of profiles upon which messages will be generated and sent in order. Foreign files can be included in the script, and will be sent verbatim in order, either to a file or to the TCP/IP port.
27. Fix bug that prevented accurate recording of No Evaluation state for localized tables.
28. Fix bug in mvr manipulation that caused values repository tree indexing errors when element folders deleted.
29. Fixed bug that caused display of wrong table if selected at end of table index list in Table Enter/Edit utility
30. Data Link field now handles keyboard data entry in more user friendly consistent fashion.
31. Fixed bug that caused min cardinality > 1 to revert to 1 upon reloading profile.
32. Fixed bug in default MVR activation that caused 'index out of bounds' error; also have default invoked for new profiles.
33. Name of MVR file is now displayed above the MVR tree
34. Batch change of 'Fixed Value' now works properly.
35. Replace platform specific path normalization utility, and reduce need for use.
36. Added new message gen option to auto calculate Set ID values.
37. Double click on blank line in remediation report would cause an error.
38. Validation did not consider possibility of un-coalesced seg groups in determining absence of required segment.
39. Tweaks to handle consistency/validation for unusual seg group arrangements.
40. Fixed bug that caused SpecXML w Tales to abend under some conditions.
41. Fixed Validation error log; it wasn't clearing between message instances.
42. Table lookup form is no longer modal.
43. Illegal sub-sub component error in consistency check does not get triggered if only the first sub-sub component element is in use.
44. Cancel Close now works correctly when decide not to close a profile.
45. Deleting a filed with repetitions caused an error.
46. Reverse Engineered profile was retaining previous profile's constrained table lib.
47. Generated Message Control ID length now compliant to standard.
48. Diagram Bench incorporated into MWB. No longer stand alone package.
46. Memory leak causing Out of Memory error in message generation fixed. Primary culprit was Table structure, where element list failed to be freed when table freed.
47. Add Design and Other notes to text search.
48. Fill out MSH for ACK response to include hardcoded MSH.20.
49. Fix bug in Profile comparison that when profiles shared a run of the same segment cause all comparison profile segs to be compared to the first seg instance in subject profile.
50. Add Seg groups into the profile comparison.
51. Fix ability to mark seg groups as repetitions. It wouldn't work if seg group names in tree were different (as when generated).
53. Fix calculation and display of abstract message structure when seg and seg group repetitions are present.
54. Add resource locking capability to prevent contention issues among multiple MWB issues.
55. Fix bug that prevented bulk of Validation session stats from being recorded.
56. Add locks to profile open to prevent errors due to contention.
57. Fixed a bug that was causing spurious differences in profile comparison.
58. Fix bug that prevented transfer of Remediation List errors to Review Notes.
59. Add capability to automatically save internal review report as a text file.
60. Add a refresh button to Internal review page, so don't have to close form to get annotation updated into report.
61. Reverse engineering resulted in access violation in some cases. Initialization of object var to nil fixes problem.


Changes since Release 6.5 (May 06)

1. Add new menu item to Maint\Data type that permits saving a DT Pseudo-profile as a data type library
2. Add ability to create non-standard data types by manipulating components and sub components in tree. Disallows creation of sub-sub components.
3. Fixed another bug with HL7 html lookup that gave "structured storage file" type error.
4. Add new clone seg or seg group feature. New structure is added following existing structure.
5. Modified tools menu to make shorter. Removed no longer needed Batch change options (and tool buttons), created new Clone option (and button) and consolidated tree manipulation options under a sub menu.
6. Add structure check to Msgs Structure library editor; also fix library selection and new library entry bug
7. Add indicators for localized table library in use to library display tool and library lookup.
8. Fix condition in table lookup where selection of last row in list caused grid to jump ahead and select 2 rows ahead. 
9. In table maint fixed condition where inappropriate headers were displayed in table for sorted Description/Code pairs. It showed the header as Table Name/Table ID.
10. In case of overly large example value, message generation will no longer display the <max value length exceeded> placeholder, but the entire value.
11. Message Capture parse tree now handles values with length > 80 properly.
12. View Warnings is now activated on remediation form.
13. Table mismatch message is no longer displayed if a localized table is imported.
14. Profile consistency has demoted RE elements without values to a warning.
15. Profile consistency check now reports illegal implementation of sub-sub components
16. Fixed HAPI segment class generation to handle segment groups
17. Fixed a problem in Table Localization where linkage between a local and master table would not occur if the case of the table names wasn't the same. This basically only affected those localizations that used one master file for part of the process, and another master file for another localization session.
18. Eliminated storage of form location for field add and table display forms in .ini file. Was causing numerous numbered entries into .ini file.
19. Saving profile to zip archive no longer buries it in path folders.
20. HAPI code gen files now save to a ZIP archive following HAPI dir structure from 'ca' down
21. Prevent deletion of last segment in seg group. An empty seg group puts the profile in an inconsistent state and may not be loadable.
22. Fixed bug in XML import causing spurious error messages upon loading and moving mouse over specification attributes. Cause was failure to initialize a comparison spec object.
23. Fixed bug that caused spurious "max cardinality exceeded" message for segments in messages with seg groups.
24. Fixed problem where messages read from a file and sent do not pass ER7 well formedness test
25. Took display of seg grp name in hierarchy out of display on rhs of message tree. Long seg grp names were more annoying than their info value.
26. Allow Tables that only exist in profile to be added to localized table library. They Must however be named prior to saving with profile.
27. Fixed problem where tables using same name but different ID's were not being displayed distinctly in the Table index list. This also had ramifications in table delete.
28. Attempt to open mwb files that have 'read only' attribute set returns a more appropriate error rather than the corrupt file error indicator previously displayed.
29. Table Library edit/enter routine has been modified to allow for duplicate codes in a table.
30. Table library print routine has been fixed to display duplicate elements in tables.
31. Added default Values Repository to Msg gen Options. If a default VR is defined, it will be automatically loaded when the message gen session is started.
32. Fixed bug in Validation that caused a spurious "illegal sub-sub components" error report.
33. Add code to make HL7 shorthand notation outside left margin of tree and data type display of dropped down data types easier to visualize - not partially obscured by surrounding components any longer.
34. Added new validation check: Report discrepancies between data type specified in OBX.2 and MFE.5 and that found in message instance.
35.Fix intermittent problems that were preventing proper discrimination of OBX repetitions used in validation.
36.Fix problem caused by large specification level imp notes. Caused MSXML to error when applying style sheet.
37.OBX validation discrimination will now take into account table assignments for OBX.3.1. If the message instance has a value in OBX.3.1 that is found on the reference table, then a match will be recognized that together with the OBX.3.1 can be used to identify the appropriate profile OBX to validate against.
38. Fixed a bug that prevented a user screen query from displaying when message compile determined that the structure qualified for upgrade from HL7 to either Constrainable of Implementable conformance type. This would result in an inexplicable change in conformance type especially if just MSH compiled (would auto set conformance type to Constrainable). This may appear as a new feature to users.
39. No longer save Main form state or position - in at least one instance user had save app as full screen, but could note get to parts of the form.
40. Fix problem in seg and seg group cloning where the cloned node would be added to the bottom of the tree root instead of as sibling to cloned element. Problem only occured when cloned node had no sibling following.
41. Fixed a bug that caused reversion form local table lib to Master table lib at conclusion of Validation Server Session. Manual validation from Message Capture tab was not affected.
42. Fixed bug that caused length of all selected elements in batch change mode to be set to 3 regardless of the attribute to be changed.
43. Modified Batch change so that textual changes can be initiated by clicking on a blank area of tree as well as by double click.
44. Fix Table Loc/Const. so that can actually provide a name for a table that exists in profile only with no counterpart in master table lib. Entry of name was allowed, but it wasn't being saved.
45. In validating report document by application of DTD/Schema an error would occur if the user cancelled the operation. Fixed.
46. Modify evaluation of element value required to take into consideration case where field is RE, one component is RE and the other R. Now if the component that has 'R' usage is not valued, but the other is, an error will be flagged.
47. Add capability to automatically track minimum cardinality for elements with replicates. Minimum cardinality is predicated on the number of required replicates.
48. Improve capability to validate distinct profile repetitions. To motivate this capability segments may now have repetitions in the profile. For legacy profiles there is a new menu item that permits the user to assign repetition status to associated segments. Message instance segment and field repetition may now be validated against distinct profile counterparts.
49. Selection of Rep node in parse tree after validation always resulted in selection of last rep in parse tree and selection of last rep value in message text 
50. Error log in message validation now includes entire parse tree path to node. Formerly just the segment index was displayed in brackets.
51. Validation now checks to see that distinct required repetitions are present in the message instance.
52. False error condition no longer displayed when a local table identifier e.g. HL70007 is used as an example value and table 0396 referenced.


Change History from release 6.2

Jan 06 - MWB Release 6.4
1. Put a filter in that removes erroneous child level seg groups from pseudo messages built from seg libs. These were introduced in an earlier version of MWB that didn't filter constituent profiles to eliminate seg groups before compiling into seg lib. The pseudo messages may in turn be used to fix the affected seg libs using edit/overwrite.
2. MWB Now reformats XML message instance after parsing so that it is "pretty printed" in the message capture window. This makes it easier to analyze especially if originally submitted as an unformatted string.
3. Reconcile profile now shows profile file names instead of profile names
4. In change data type fixed bug that made usage always 'R'. It now matches original usage. Similarly length remains same as original. Also reference now conserved and Field Add utility allows entry of reference.
5. Profile reconcilliation was skipping segment that were optional and/or repeating - fixed.
6. Was not peristing 'NoLookup' attribute for local tables
7. In table Localization util, selection of local table elements in general table library tree was sometimes causing fault.
8. SpecXML and related reports were not showing local constrained table lib
9. Remove code that prevented removal of a regex from an element in a profile
10. Add New Maint/Profile option set
11. Add new Maint/Profile/Reconcile Profile Batch option. Permits user to select a batch of profiles to be reconciled against loaded profile or pseudo profile (e.g. segment lib);
12. Add new Maint/Profile option that allows user to update a profile with regex from data type library. Intended primarily to update legacy profiles created before regex feature available.
13. Add new feature to create a seglib from currently loaded profile.
14. Add a new feature that permits saving each mesage received in a validation session as a discrete file. This makes viewing received messages possible prior to concluding a validation session.
15. Add new feature to keep track of some user preferences such as main form sizing an placement, same for message validation and message generation. Preferences are save to the MWB.ini file that is automatically initialized and maintained by the MWB.
16. Validation Server now presents IP's as a list instead of a fixed value. This permits those who have both a local network and a VPN IP to connect.
17. Add new feature that reports absolute node index for element selected in tree. Index is 0 based. Access via right click menu in treeview.
18. Fixed a hole in validation where evaluation was thrown off track in seg groups. Also prevent bogus error message for missing required segments when the parent seg group was not required.
19. Add a new tree menu feature that allows user to specifiy seg lib for HL7 lookups.
20. Fix parsing errors involving empty replicate fields.
21. User can now assign seg library with pointer to html doc for lookup. Previously the html doc pointer was set to the first seg lib in the library. That is still the default, but may now be reassigned by user, and the assignment will persist with the profile.
22. In validation, fixed a bug that prevented error message when a non-repeatable field had only one repetition.
23. Validation error log entries now include the segment position in the message instance surrounded by brackets. It is displayed immediately after the element name in the entry.
24. Add option to Message Instance Generation feature that permits saving messages framed in MLLP format to a text file.
24. Segment Library Associations for Message Structure Library and Message Capture/Validation now automatically defaulted for new installs and for legacy systems that have not made the associations.


11/08/05 - Reported with MWB Rel 6.3p1 [build 6.3.4]

1. Message generation now puts actual time in MSH.7 and BHS/FHS corresponding fileds.
2. HL7 timestamp generator enhance to show milliseconds and and UTC time offset. 
3. Fix formatting in table import to allow table id > 4 chr in length and not to rjzf id's that start with alpha chr.
4. Ex Msg HL7XSD report was showing nested seg groups as part of message model - fixed.
5. Calculated Seg Group names/descriptions changed to use upper case to be consistent with HL7 XML SG  naming convention
6. Permit compound seg group names to use '.' as delimiter in addition to HL7 specified '_' in message capture.
7. In compiling message grammar, modify algorithm that coalesces singleton segs in seg groups, such that the algorithm is not applied if the seggroup is named i.e. has (SG_NAME) as part of grammar).
8. Strip empty tags out of XML before processing
9. Accounting for empty content in HL7 parse tree was out by sync by one sequence too many in some instances.
10. Fixed a bug that cause new seg lib creation to crash in some cases when a constituent profile had a seg group.
11. Validation Server now handles XML message instances
12. Tweeked algorithm that gets IP address for display in Validation to ignore IP's like 0.0.0.0 and 127.0.0.1. Such IP's were being selected preferentially on some systems.
13. Fixed a bug that prevented Custom Report feature from working
14. Add Horizontal Scroll bar to Remediation checklist
15. Changed message capture to strip cr/lf from the end of lines.
16. Example values that are legitimately escaped when entered are no longer escaped again in report generation. Example Values that are legitimately escaped no longer flag an error in Consistency checker. Checking for improper escapement/inclusion of unescaped delimiters has been enhanced to cover all defined HL7 escape sequences.
17. Fixed TS and DTN regex in v2.4 and 2.5  data type and seg libraires.
18. Changed HL7 XML Message instance to get rid of whitespace around value introduced by pretty-print.
19. Version in Ack reported by Val server now fixed at v2.5
20. Hard code Validation Response on error ACK messages to be 'AE' otherwise 'AA'
21. MWB now responds with XML encoded ACK when Validating XML encoded message
22. Fixed HL7TimeStamp function to account for minutes in tz offset
23. Add Encoding to Validation Service Message Grid.
24. Get Repository Values for message instance now handle XML message instances
25. Bug fixed that prevented removal of ER7 as a profile encoding.
26. Created version of RegistryExport XSL that removes all field reps from SpecXML before creating HL7 COnformance profile. This will be new default. Older version that allows field reps (identified principally by '_rep' field name suffix will be optional.
27. Import of XML will automatically activate version specific segment libraries if defined.
28. Remediation list would error out under some circumstances with an index out of range error - fixed.
29. Changes to validation navigation algorithm to better take into account repeating seg groups.
30. Add new property to Table definition - NoLookup. This property currently applies only to tables in constrained table libraries. It is a boolean that signals that no attempt should be made to lookup a value in this table, and consequently no "undefined table element" errors should be generated.


2/8/05 Post 6.2p3a

1. Fix problems related to table lookups in validation. If table valuein profile was not formatted properly validation would not complete. Also if the lookup failed validation would not complete.
2. Added highlight features for unknown table attribute and for unrecognized table element in example value attribute. If an unknown table is entered, highlighted text appears next to the table attribute indicating the problem. If an unknown table element is entered as an example value, the font of the table element is highlighted.
3. Add highlight feature for example value with primitive required elements. The 'Example Value' label for the attribute becomes bold until a value is entered.
4. Add New table type 'Imported' to list in support of v2.6
6. Add capabiity to create values repositories used to create test messages. In conjunction with this, add a new feature that permits generation of messages from randomly selectedrepository values. The messages may be stored in a file and/or sent asynschronously via HL7 TCP/IP connection to a server. The HL7 client will also receive/store HL7 acknowledements from the server.
7. Fixed problem with ODBC table file import. Undefined values for attributes such as table name, were causing function to crash.
8. Fixed problem with ER7 message including values for elements whose ancestors were NS.
9. Fixed problem where failure to open MRU list file left cursor as hourglass. It now reverts to default after error message.
10. Selecting a new table file in Maint/Options now takes effect immediately. Formerly had to exit the MWB and restart for chnge to take effect.
11. Modified report edit window to persist font attribute selections during entire session. Will revert to baseline with each new MWB session.
12. Fix a problem that prevented length errors from being reported on validation. Profile consistency check for length errors was unaffected.
13. Fix bug in annotations notebook that caused error to be thrown if deleted a tab, then decided to show all tabs.
14. Added Hidden Internal Review note
15. Add Profile comparison stylesheets and add explanatory text to the header of each specialized comparison xsl. New ones compare elements with differences at the filed level and above. Another does the same, but considers only those principl profile elements that are Required. This later one is especially usefull when the principal profile is from the standard and the comparison profile is a working profile.
16. Users should be directed to change the "Non Breaking Space Chars" attribute to "&#160;" from &#194;&#160;. This together with update to XSL transforms will prevent some xsl translation errors.
17. Now Process all SpecXML variants to replace invalid XML characters with the underscore character '_'. Process uses DCPRe regular expression component.
18. Updated Rexex engine (v3.0)
19. Correct HL7 v2.5 seg lib to contain HL7 Item#
20. Allow propfile consistency Check to operate for BHS and FHS headed messages. Also provide default delimiters where none exist in the profile.
21. Added globa application exception handler. Will handle exceptions that haven't been accounted for previously. Given a map file for the executable, it will also display unit/procedure/line number attributes. This will potentially be very helpfull in debugging problems discovered but not easiy reproducable in the field.
22. Added Message Generation capability with support for building a Values repository from message instances as well as manually. As with Validation, generated messages may be sent via MLLP to a socket, and session information collected.
23. Conformance file (seg lib) selection utility did not reposition list selection when moving Right hand side items down list.
24. Rearrange text search form so that search result box will expand with form; facilitates reading long results.
25. Remove stay-on-top characteristic of text search form to make interactive uses easier with MWB.
26. Fixed bug that caused fault if tried to Add an unknown seg to existing message profile.
27. Added horizontal scroll bar to listbox in text search. Makes it possible to read text for very long lines.
28. Added Data type check to consistency report. Modified Data type check report slightly.
29. Made changes to DT2-5.mdf and HL7 2-5.mcf to correct spelling change in XON data type
30. Added fix that changes regex for first component of TS data type where the DT is NM to a regex for an HL7 date format as opposed to regex for NM. The fix also corrects for the bogus TS regex that didn't permit having days of 10 0r 20 and permitted tz offsets of > 12 hrs. The fix is applied automatically as each profile is loaded. Profile must be saved to make change permanent.
31. Changed position of all forms previously designated as positioned as designed to positioned relative to main form center. This prevents form from displaying off screen as may occur because of design platform differences.
32. Corrected all TS and DTM regex in data type libs.
33. Put a correction for TS regex in MWB that corrects the regex for TS in profiles as they are loaded.
34. Discovered that Table index used to quickly load a list of tables in lib, was missing some elements. To correct the situation, the MWB will now completely rebuild the index and save it at the start of a table edit session. Table edit will no longer ely on the index stream. Initiating the edit session is somewhat slower now as it takes time to rebuld the index. The table view form used during profile building will still use the much faster existing Table index.
35. Fixed a bug that caused validation to abend under unusual circumstance (MSH delimiters not appropriate for actual message instance encoding).
36. Element movement and addition of elements to the message tree now activate the save button.
37. Added text scrolling supression option to Maint/Options/ reports tab. Supresses display of text as report is built and apparently may decrease report production time.
38. Fixed bug that caused error message when capture message had been changed and parsed multiple times. The linkage of node between the message tree and the parse tree got out of synch under these circumstances.
39. Added new logic to validation to recognize that an element value may not be required if its parent is not required.
40. The requirement for example values is now distingusished between Reviews and Validation. RE elements are no longer flagged in validation if they don't have example values.
41. Elements that have 'R' usage from field and below but whose parents are RE, C, or CE no longer flag an error on validation or Review if they don't have example values.
42. Fixed a bug that prevented reporting missing example values in validation when the message instance had an example value for one component or sub component but not others. Given a=R,B=R (R is usage), F^a where a='' would flag an error. F^a^ where a a was values, but value for b was missing would flag an error, but F^a where b was missing would not flag an error.
43. Batch Profile generation on the Maint/Options/Msg Struct page now applies the "consolidate seg group" option as defined to the generated profiles.
44. Fixed list item up/down movement on Maint/Ops Misc tab Associated seg libs.
45. Values of the format 'HL7nnnn' will now be accepted as valid table 0396 entries.
46. Added functionality to compare a profile against the standard (or active) segment library definitions during consistency check. All newly created profiles (i.e. those that are compiled from scratch in the MWB) will hve a the source seglib conserved for each segment in the lib. When this algorithm is executed against them, they will be compared against the original seg lib (if available). For other segments, that don't have a source generating seglib, they will be compared against the set of active seg libs. Discrepancies show up on the remediation log prefixed with 'STANDARD attribute', where attribute names the specific attribute compared.

For the time being analysts using this feature will want to pay close attention to the active libs and their order, especially when dealing with profiles constructed or derived from those constructed before this update. There will probably be an associated  procedure that allows users the ability to frankly assign an exisitig seg lib for comparison as opposed to letting the MWB make the assignment. In any event the remediation report will show the seg lib used in the comparison in brackets on the end of each discrepancy report line item.

47. In a change related to 46 above, the comparison report will now handle field repettions without getting out of sinc. Each repetition in the profile to be compared will be campared to the same field in the comparison spec.
48. Added new MWB option - Initialize and and auto adjust ancestor specified max length. If set, this option will cause the exisiting Msg Spec Length Fix to be run when a profile is loaded or compile. This will ensure that the component lengths do not exceed their parents length. Secondly, whenever an element length is changed, its ancestors will be automatically adjusted to increase the max length appropriately if necessary. If user attempts to attribute a length less than sum of child specified lengths, the length will be automatically adjusted upward.
49. Fixed a bug that caused Consistency check to abend under some circumstances when a seggrp was either added or removed from a profile.
50. Added capability to use Validation server in a pass through capacity. If a client IP and Port are defined, any message received by the Validation server will be passed on to the client. A county of messages passed on and any acknowledgments received is displayed.
51.Fixed a bug that prevented some sements in captured message instance from being evaluated during validation. This was most apparent if the message instance was missing one or more of the segments included in the profile.
52. Fixed a bug in validation that erroneously reported FIXED VALUE errors
53. Fix Validation bug that reported missing required segments when parent seg group was not required
54. Rework SpecXML to handle reports with large volumes of text. Found that XML representation of notes could cause a single line of text to exceed 4k, and consequently cause editipr to truncate the line, causing XML well formedness errors.
55. Added capability to constrain table library specifically for profile. The constrained profile library is an integral part of .mwb file. Capability exists to derive from default table library and to add table elements not on default table. SpecXML w Tables shows only the localtable library definition if one exsits.
56. Profiles opened with double click on .mwb file are now entered onto the MRU list
57. Withdrawn added as a usage type
58. Added capability to create and Send HL7 2.XML in message generation
59. Added capability to recieve and validate 2.XML message in message validation module
60. Added capability to generate profile specific 2.xml DTD


6 October 2004 post 6.2 patch 2

1. Fixed SpecXML report bug caused by failing to escape spec name.
2. Added XML well formedness test for raw SpecXML prior to translation. An error message is displayed if not well formed. Previously no error message was reported.
3. Fixed a bug in message generation thru the Maint/OPts Msg Struct tab that precluded generation of the reports. Also added ability to generate .mwb, and generally cleaned up other issues.
4. Data type maintenance - fixed bug in expunge option, remove white spaces from DT mnemonics and names as well as Usage notes. Supply defaults for components when building complex DT.
5. Introduced capability to specify case sensitive/case insensitive (default) Regex evaluation. This feature is available in Data type Lib maint, and can be set as a session param for profile evaluations by right click on the Regex attribute field.
6. Add Text search and replace functions to reports edit menu
7. Added ability to remove ref notes and regex from multiple elements selected in msg tree. Trick is to set attribute to space, then press enter. MWB strips the space, and sets the attribute to "" for all selected nodes.
8. Fixed RCD data type discrepancy.'HL7 data type' component defined to have a data type of ST instead of ID.Fixed in DT and SEG libs.
9. Add capability to print a single table definition as opposed to all tables.
10. Added accounting for field repetition sequence in numeric path display. Impetus was complaint that review notes could not pinpoint reported location when repetitions were involved.
11. Change color of fly over element path indicator in tree view to blue.
12. Fix bug that prevented changing the data type of a field that has no siblings (e.g. set id as first field in new z seg).
13. Add feature to Field Add dialog that permits defaulting the field name to the data type name.
14. Add capability to Add seg description at time of adding new seg
15. Tweeked library segment search to remove some user annoyances.
16. Updated the header of the XSL spec comparison stylesheet
17. Making webbrowser component invisible, so it doesn't interfere with window scrollbar
18. Fix MWBSpecComparison.xsl to accomodate nbs chars and get rif og '?'. 
19. Enhanced MWBSpecComparison.xsl to look account for references, also fixed xsl bug that prevented segment and seg group differences from being exposed.
20. Remove invalid character in set id field of ZMH seg in Vista-HEC Zsegs.mcf. Caused comparison xsl transform to error.
21. Now distinguish between consistency check and message instance validation when assessing missing required element values. Error is reported for validation only if the profile element is required and value missing. For consistency check, error is reported if element is either R or RE and value missing.
22. Consistency check will now report U and B as ambiguous usages as well as O when the profile is implementable.
23. Add option to search for message elements and profile parameters in text search feature. can double click on message element text to find location in message tree.
24.Added 2 new comparison report XSl. One eliminates comparison if both elements are NS. The other eliminates comparison if one element in NS and the other is (np). In both cases row of affected elements is grayed out.
25. Updated all XSL to uniformly handle MSXML4 nbsp problem in an improved manner.
26. Fixed bug where multi line Use Case text was being truncated at first CR/LF.
27. Add capability to find and index msg elements based on various attributes e.g find all elements that have usage of 'RE' or all elements that have an example value. This feature is accessed by a right click on the attribute of interest, and presented in a list like the Reference list intoduced in last release. Dould clicking on an element in the list will select the corresponding element in the message tree.
28. Fix parsing bug that causes |A|B^C^D|E|F|G to parse as |A|B^C^D|E~F|G
29. Fixed problem that prevented loading profile diagrams after loading a message from the structure library.
30. Fixed bug that prevented detection of Invalid table ID's in consistency check. Also ensure that this error not reported during validation.
31. Improved auto table assign algorythm. Option ensures that table assignment to parent node is inherited by first primitive child node if that node has no other table assignment.
32. **** added hooks for DesignNote and OtherNote, need to add a method that shows all of the notes ( or perhaps a select number of them). See init of udoced.
33. Added capability to support new note types as specified in conformance section for v2.6. New note types for Description, Design, Other in addition to existing MWB note types.
34. Modified enlarged notes editior. Formerly a double click on a note attribute in the main screen would bring up an enlarged form in a floating window for editing. This feature has been extended to bring up a multi-tab editor form in the floating window. Each tab exposes another type of note for a particular element. This is the primary way to get at the new note types for documentation. The multi tab editor may be invoked via the new tools menu option 'Annotations Editor'. Alternatively the Annotation editor can be invoked by double clicking on a notes attribute on the main form. When invoked this way, only the tab for the particular attribute is initially displayed, but the other tabs may be made visible by selecting a tool bar option on the editor window.
35. Added new annotations to SpecXML report.
36. Added Maint option on 'Misc' tab that permits user selection of Annotation Tabs to be exposed in editor. Since some tabs may be invoked by doublr clicking on main screen attributes, and other annotations may not be used. the user can control the list of annotation tabs exposed on invokation.
37. Added Spell Check capability to Annotations editor. It is invoked via a tool button on annotations editor form. Options 'Misc' tab permits user selection of language specific dictionary. Some dictionaries for older version of Office (95,98) may be available on system, but for later versions software is supplied to load non-office dictionaries for this feature.
38.Added maint option on Misc tab that permits setting wordwrap for all editors. Prior to this wordwrap was default on all MWB editors, which lead to choppy lines in reports when the narrower editors such as those on the main page were used. Turning wordwrap off, will guarantee consistency of text display on reports.
39. Added warning to consistency check. Consistency check for non-implementable profiles may be misleading.
40. Fixed bug that reported illegal sub-sub components introduced in v2.3.1 from being reported as having missing reference even though parent element NS.This affected the Consistency check report and the Validation report.
41. Fix display of element path in tree and reports where field repetition paths displayed were erroneous.
42. Corrected segment position display to account for field repetions on message capture status bar.
43. Added new feature for message capture analysis. When validating or reverse engineering, clicking on a primitive element in the Parse tree will select the corresponding element in the message tree. Conversely selecting a primitive element in the message tree that has a corresponding Parse tree element, will select the parse tree element. Double clicking in either tree will select the corresponding item in the other tree and activate the other tree's tab.
44. Fixed a bug in validation. If profile has a repeating field but the corresponding captured message did not, then the comparison would get out of sequesnce hence making validation erroneous.
45. Add new option to Reverse Engineering - Derived spec may be made Implementable.


11 May 04 Post 6.2 patch 1

1. Discovered that data type was not being conserved with the TMsgElement assign method. Resultant Missing data type attribute in captured message for a field repetions cause ill formed XML in HL7 XML encoding.
2. Fixed HL7TableFile25.mwt. It had 2 tables with ill defined table descriptions (descriptions contained '=' chr) 0227 and 0292 for vaccines, that was causing the table file maint process to crash. Also took opportunity to update the VA specific table file to a 2.5 version.
3. Added HL7 Version attribute to Segment libs
4. Fixed a bug that cause Conformance aspect of SpecXML to be reported as escaped XML text. Also fixed another potential problem with unescaped chrs in the spec xml report.
5. View Message characteristics: fixed bug that cut off last chr of MSH version id if no fields beyond MSH.12.
6. Added capability to associate seg libs with an HL7 version. This is done via a new 'Misc' tab on Maint\Options. If defined these associations are applied during reverse engineering to ensure that the appropriate segment libraries are used to compile the message profiel.
7. Removed redundant Predicate check in Consistency report.
8. Add check for complex example values. Works well for example values that use a delimeter other than field separator. Otherwise an error may not be detected, and may cause misleading error report. Without this new check however the condition would never be recognized because the MWB escapes all example values in running the ER7 report.
9. Add check for VARIES datatype unresolved in profile.
10. Add new check for delimiters in values that catches the use of field separators in values as well (see 8 above).
11. Autoset of conformance optionality operates if set for Repetitions and seggroups as well as fields and segs
12. Change data type now conserves the original notes, HL7 Reference, and example value. Works with field repetitions as well.
13. Added new feature that produces a Reference Index form. The form shows a sorted list of the message reference attributes in alpha order, permitting the user to access message elements by their reference. This will be helpfull for users who record the database reference in the Reference attribute, and sometimes have a need to quickly find the message element associated with a particular db reference.
14. Added capability to clear certain attributes for the entire profile: Reference, Example Value, regex. The Primary anticipated use is to initialize a profile by clearing attributes provided by the segment and data type libraries.
15. Fixed bug that caused example values to be doubley escaped causing the escape characters themselve to be erroneously escaped.
16. Fixed bug that caused loss of profile title after accessing reports tab.
17. Fixed a bug that allowed user to drag/drop components out of a field and eleveate to field level causing an invalid data type and field sequencing corruption.
18. Fixed XML import transform (ImportHL7RegTX.xsl). It wasn't processing segment groups and consequently was mishandling them, causing them to repeat.
19. Added new boolean MWB property "AttsInDTD". If true, the DTD report will include attributes, otherwise it won't. This feature was added specifically to support the VA's use of the Vitria Businessware IE. Defaulted this property and the "IncludeNSinDTD" property added sometime back to 'true' for initialization.
20.Fixed bug that caused Constants defined on options page to be lost. The bug was related to intro of Regex, which also had problems with saving and deleting values in the grid.
21. Developed a work around for problem of a disparity between the decimal point characters between US and European systems. problem was evidenced in table element add/edit where 2 users were unable to share a .mwt file because of the disparity. Table element dates are stored as a string rep of floating point values. This includes the '.' decimal point. The Euro system was unable to use the US .mwt file because when it tried to restore table elements the conversion utility for string to fp format would throw an error when the '.' was encountered. The reverse problem was encountered when the US system tried to restore a Euro generated MWT and ran into the ',' decimal point. At this point it appears that only table elements were affected, but the work-around should be broadly applicable if necessary.
22. Fixed several bugs related to Data Linkage, ODBC connectivity and Constants definition.
23. Fixed problem reported where holding an arrow key in the message tree would cause notes from the source node to be spread to all tree nodes visited while key was held down. If the arrow key (up or down) was just pressed once, there was no problem.
24. Add a feature that permits selection of an alternate segment lib when adding a single segment
25. Add a feature that permits selection of an alternate data type lib when adding a single field
26. Rework auto actions taken when Conformance type changed.
27. Swap data type utility now conserves the usage of all affected elements as opposed to changing them all to required.
28. Added new feature that presents a form with list of elements with review notes. Double clicking on alist item will select the message element in the Message tree.
29. Make string search utility case insensitive when searching tables, just as with segments.
30. Made several internal changes to Main and uhl7parserSS in order to support bkg thread processing for validation. Mainly has to do with localizing global stringlists e.g. CompareLog and RDFList (8/2/4).
31. Fix Delete Table functionality. Actual deletions were not occurring. 
32. Fixed some quirks with Addition of Segment Groups in message tree.
33. Changed logic of Fixed Value attribute so that it is no longer derived, but reflects user assignment via the checkbox on the Message Definition page. It is now a persistant property of the message element.
34. Added new functionality that permits Importation of Diagrams created outside of the MWB if in BMP or JPG format. Fixed some quirky bugs in the MWB Diagram bench as well.
35. Refresh the abstract message structure field upon initial load. An unusual instance of innapropriate structure corrected by manual refresh was noted. This action seems to correct.
36. Structurally, an NS segment or seg group will now be prefixed with a '[' and a required but not repeating seg group will be indicated with a '{'; the cardinality will still be 1-1 in the later case and 0-0 in the former.
37. Reverse engineering of messages using RDF,RDT segments will now capture repeating RDT fileds into the profile.
38. Entry of large example values was not working properly, and was not displaying properly in ER7 report. Use of right click on Example value attribute now allows for entry of small or large values and they display properly.
39. Implement Local and Profile vocabularies in Diagram drawing tool.


Post rel 6.2

1. Changed display algorythm to present non-required (e.g. RE,C,CE) segments and seg groups with '[' which was formerly reserved only for optionality of O. This permits appropriate display of these structures in an implementable profile.
2. Table Maint menu had spurious "Add Field" option
3. Print Table had a spurious button visible at top
4. Table Add/edit/del element had a check box out of place
5. SpecXML w Reports and Spec XML only as well as other reports in same vicinity were out of order and hence didn't display the advertized report.
6. Now ensure that Regex/example value highlights are checked when element is selected in tree 
7. Fixed a msg capture parse error that affected repeating fields an was inadvertantly introduced in last release. Problem cause ZZZ|a~b~c~d| to parse as ZZZ|a~b|c~d|.
8. Ex Msg ER7 family of reports will now exclude seg groups and segments marked 'NS'. 
9. Fixed a bug that sometimes cause an error on entry of review notes
10. Fixed bug in reverse engineering of messages with repeated fields, where the value capture algorithm ignored component values in certain conditions.
11. Fixed a bug in message capture parsing that caused an extra field to be added to the end of a segment when the segment terminated with a component value.
12. Message capture now handle value assignment to multiple RDT in message. formerly only one RDT was accounted for in value assignment. 
13. Add logic to get definition of QPD parameter fields during reverse engineering procedure 
14. Fixed a bug that caused review notes to disappear when reentered under some conditions.
15. Fixed problem where example values enterred for illegal sub-sub components in profile (e.g. data range data type within component) cause example ER7 message to ill-formatted. Illegal sub-sub component values will now be ignored in building the message.
16. Add code to prevent elements with NS usage but with an example value from inclusion in example message instance (Ex Msg ER7 reports)
17. Ensure that report editior is cleared before validation performed.
18. Validation errors reported for specific element; formerly could be reported at parent level under some conditions.
19. Fixed bug that caused error upon renetry to the remediation list under some circumstances
20. Modified Validation algorithm to account for profiles in which field repetitions are expressed.
21. Fixed bug in cardianlity validation.
22. Changed algorithm for automatically marking elements with values from a message capture as required. Previous method marked both capture values and values derived from libraries required in the reverse engineering process. This had the effect of introducing required fields that were not meant to be part of the profile.
23. Fixed bug that caused item number param to be replaced with description text upon exiting the item number control.
24. Prevent user ability to edit element labels in tree view
25. Fixed bug that prevented stylesheets from applying correctly reulting in nearly blank reports. Condition was caused by failure to escape the '&' character in XML report output.
26. Enhancement added: Upon exiting a parameter with a text component (e.g.Example Value) the component is automatically selected for text entry when navigating through the message tree. So for example, to enter Example value text the user can simply select the next element in the tree and begin typing without having to also select the parameter text component.
27. Added feature to Remediation list that allows transport of items to the review report depening on whether or not the item is checked.
28. Added automated profile consistency check feature. Helps to ensure that Profile is complete and well specified.
29. Modified Message instance validation so that the enhaced remediation report form is displayed on the Message Definition tab as opposed to enabling the text report tab.
30. Added new check on example value entry that warns if specified element length is exceeded.
31. Added new features to Msg tree pop-up:
 - Count of all nodes in message tree, broken out by type
 - Count of all nodes for a message tree element
 - Computation of Message tree length broken out by specified length (sum of length params), Conformance length (sum of non-NS lengths) and Message Instance, or actual length (sum of lengths of example values). If length discrepancies are discovered in the measurement process, they may be displayed for review/remediation.
 - Computation of structure length. Same as message tree length except specific to structure selected in message tree.
 - Correct Message specification length. This feature ensures that the lengths specified for child nodes are summed into the parent node for the entire message tree. Note this does not correct the problem where an example value length is larger than specified.
 - Correct msg structure specified length. Same as for Message Specification length, but for selected msg tree structure.
32. Mod to Usage check utility to make it more readable.
33. Updated main form so that entry into most fields including notes causes the save button to be enabled.
34. In options/Message structures fixed a bug that made entering a new structure library name difficult if it started with 'HL7'.
35. Made modification so that treats sub-sub components as primitives in tree view. This way can handle situations like embedded date range where using only the first sub-sub component still produces a valid message instance.
36. Simplified procedure for applying batch modifications to message tree elements.
37. Modified Message structure lib to contain event description. This permits much quicker loading of a structure library for message selection. Also facilitates entering user defined events descriptions for user defined messages.
38. Modifed Message structure library to associate a prioritized list of segment libraries. This can be used to ensure that when a particular message structure library is selected, the appropriate segment libraries will be used to compile the message structure. Formerly, the user had to make sure that the appropriate segment library was selected before compilation.
39. Added a new process that analyzes a message structure being compiled to determine what the appropriate Conformance Type is, and automatically sets it. This is especially usefull in the case where a fully constrained segment library is being used. Formerly, initial message structure compilation assumed the lowest common denominator - HL7 conformance type, which would trigger "usage" discrepancy messages when segment libraries with a conformance type of implementable or Constrainable were used in the compilation.
40. Fixed a bug that caused problems with saving profiles when data linkages were used.
41. Fixed a bug that caused existing review notes to disappear when editing under some conditions
42. HL7 online doc is now accessable via F1 key when tree element selected
43. Element length and example value fields will now indicate via hilite color when the value's length exceeds whats specified in the length field.
44. Fixed bug that caused erroneous data linkages from table library. Only affected those table elements that were used for linkage to multiple message elements.
45. Fixed report of erroneous usage codes to actually report a usage code error as opposed to a 'Data Type' error.
46. Changed usage code discrepancy search algorithm to ignore children of elements with usage of NS.
47. Fixed autoset of optionality for conformance type so that it automatically assigns RE to segs/seg grps that are optional.
48. Add Capability to move fields/segs/seggroups within message tree via drag/drop
49. Fixed problem where under some conditions it was not possible to add segs directly after/before a seggroup if the Add Seg dialog was already active.
50. Added code to speed up Tree Expansion of all nodes
51. Closed another avenue of note migration that occured under some circumstances when child element with notes selected, and parent (usually seg) was closed using +/- button in tree. This resulted in the child's notes being copied to the parent, and overwriting any notes that the parent had.
52. Add data types to the list of attributes that may be changed in batch update mode.
53. Left click on discrepancy log button now brings up remediation log, while right click brings up the old report log

